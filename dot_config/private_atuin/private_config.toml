# Atuin Configuration Structure optimized for performance and usability

# ----------------
# Core & Behavior
# ----------------
update_check = false        # Rely on system package manager (paru) for updates
enter_accept = true         # Execute command immediately upon selection
keymap_mode = "vim-insert"  # Vim bindings, starting in insert mode
workspaces = true           # Enable workspace support (if shell supports it)

# ----------------
# UI & Display
# ----------------
style = "compact"           # "compact" saves space, "full" shows more detail
inline_height = 20          # Set fixed height for consistent UI
show_preview = true         # Show command details/context in preview
show_help = false           # Hide help footer for cleaner look

# ----------------
# Search Defaults
# ----------------
search_mode = "fuzzy"       # Default to fuzzy search
filter_mode = "global"      # Search across all sessions/directories by default
exit_mode = "return-original" # Restore original input on exit if nothing selected

# ----------------
# Sync & Security
# ----------------
auto_sync = true            # Automatically sync history
secrets_filter = true       # Automatically hide known secret patterns (API keys, etc.)

[sync]
records = true

# ----------------
# History Filtering
# ----------------
# Filters prevent these commands from being saved to history
history_filter = [
    "^\\s+",                 # 忽略以空格开头的命令（Shell通用隐私习惯）
    "^cd\\s*$",              # 忽略单独的'cd'命令
    "^ls\\s*$",              # 忽略单独的'ls'命令
    "^ll$",                  # 忽略ll (ls -l)
    "^la$",                  # 忽略la (ls -a)
    "^l ",                   # 忽略l前缀
    "^rm\\s*$",              # 忽略单独的'rm'
    "^mv\\s*$",              # 忽略单独的'mv'
    "^cp\\s*$",              # 忽略单独的'cp' (Added)
    "^mkdir",                # 忽略mkdir开头的命令
    "^touch",                # 忽略touch (Added)
    "^chmod",                # 忽略chmod (Added - low value history)
    "^chown",                # 忽略chown (Added - low value history)
    "^clear$",               # 忽略清屏
    "^exit$",                # 忽略退出
    "^pwd$",                 # 忽略pwd (Added)
    "^whoami$",              # 忽略whoami (Added)
    "^y$",                   # 忽略单独的y
    "^su$",                  # 忽略su
    "^sudo\\s*$",            # 忽略单独的sudo (Added)
    "^reboot\\s*$",          # 忽略reboot
    "^shutdown",             # 忽略shutdown (Added)
    "^paru -Syu$",           # 忽略系统更新
    "^paru -R",              # 忽略软件卸载
    "^mpv",                  # 忽略媒体播放器
    "^fm\\s*$",              # 忽略文件管理器
    "^z ",                   # 忽略z (zoxide)
    "^\\. ",                 # 忽略以.空格开头的命令
    "^df",                   # 忽略磁盘查看
    "^du",                   # 忽略du (Added)
    "^dust$",                # 忽略dust
    "^ta$",                  # 忽略ta
    "^history",              # 忽略history命令本身 (Added)
    "^$",                    # 忽略空行
    "^cat$",                 # 忽略单独的'cat' (Added)
    "^bat$",                 # 忽略单独的'bat' (Added)
    "^less$",                # 忽略单独的'less' (Added)
    "^e$",                   # 忽略单独的编辑器命令 (alias e)
    "^lg",                   # 忽略Lazygit
    "^yy",                   # 忽略Yazi
    "^btop",                 # 忽略系统监控
    "^htop",
    "^fastfetch",            # 忽略系统信息
    "^neofetch",
    "^duf",                  # 忽略磁盘用量
    "^trashy",               # 忽略回收站
    "^\\.\\.$",              # 忽略 '..'
    "^\\.\\.\\.$",           # 忽略 '...'
    "^env$",                 # 忽略环境变量打印
    "^where",                # 忽略where
    "^z$",                   # 忽略z命令(无参数)
]

[stats]
common_subcommands = [
  "apt",
  "cargo",
  "chezmoi",  # Added
  "composer",
  "dnf",
  "docker",
  "git",
  "go",
  "gradlew",  # Added
  "hyprctl",  # Added
  "ip",
  "jj",
  "kubectl",
  "nixos-rebuild", # Added
  "nix",
  "nmcli",
  "npm",
  "paru",
  "pacman",
  "pecl",
  "pnpm",
  "podman",
  "port",
  "python",
  "systemctl",
  "tmux",
  "yarn",
  "7z",       # Added
]

ignored_commands = [
  "cd",
  "ls",
  "vi",
  "vim",
  "nvim",
  "nano",
  "cat",
  "bat",
  "less",
  "e",        # Added editor alias
]